<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è¶…å…¨é¢è¯¦ç»†ä¸€æ¡é¾™æ•™ç¨‹ï¼ä»é›¶æ­å»º React é¡¹ç›®å…¨å®¶æ¡¶ï¼ˆä¸‹ç¯‡ï¼‰ | ç§ãŸã¡ã®è¨˜å¿µ</title>
    <meta name="description" content="React æ˜¯è¿‘å‡ å¹´æ¥å‰ç«¯é¡¹ç›®å¼€å‘éå¸¸ç«çš„ä¸€ä¸ªæ¡†æ¶ï¼Œå…¶èƒŒæ™¯æ˜¯ Facebook å›¢é˜Ÿçš„æŠ€æœ¯æ”¯æŒï¼Œå¸‚åœºå æœ‰ç‡ä¹Ÿå¾ˆé«˜ã€‚å¾ˆå¤šåˆå­¦è€…çº ç»“ä¸€å¼€å§‹æ˜¯å­¦ react è¿˜æ˜¯ vueã€‚ä¸ªäººè§‰å¾—ï¼Œæœ‰æ—¶é—´çš„è¯ï¼Œæœ€å¥½ä¸¤ä¸ªéƒ½æŒæ¡ä¸€ä¸‹ã€‚ä»å­¦ä¹ éš¾åº¦ä¸Šæ¥è¯´ï¼Œreact è¦æ¯” vue ç¨éš¾ä¸€äº›ã€‚ä¸‡äº‹å¼€å¤´éš¾ï¼Œä½†æ˜¯æŒæ¡äº† react å¯¹äºå¤§å¹…æé«˜å‰ç«¯æŠ€èƒ½è¿˜æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚æœ¬æ–‡ä¸€æ­¥æ­¥è¯¦ç»†æ¢³ç†äº†ä»åˆ›å»º reactã€ç²¾ç®€é¡¹ç›®ã€é›†æˆæ’ä»¶ã€åˆæ­¥ä¼˜åŒ–ç­‰è¿‡ç¨‹ã€‚å¯¹äº react å¼€å‘è€…æ¥è¯´ï¼Œèƒ½å¤ŸèŠ‚çœå¾ˆå¤šæ¢ç´¢çš„æ—¶é—´ã€‚ä¸‹é¢è¯·è·Ÿç€æˆ‘æ¥ä¸€æ­¥æ­¥æ“ä½œã€‚">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/share-blog/512.png">
  <link rel="manifest" href="/share-blog/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/share-blog/assets/css/0.styles.faeb6631.css" as="style"><link rel="preload" href="/share-blog/assets/js/app.44a06aa1.js" as="script"><link rel="preload" href="/share-blog/assets/js/4.76e0b0a9.js" as="script"><link rel="preload" href="/share-blog/assets/js/2.c3848be1.js" as="script"><link rel="preload" href="/share-blog/assets/js/17.9c247081.js" as="script"><link rel="preload" href="/share-blog/assets/js/7.51a66021.js" as="script"><link rel="prefetch" href="/share-blog/assets/js/10.1f2e387f.js"><link rel="prefetch" href="/share-blog/assets/js/11.339db49f.js"><link rel="prefetch" href="/share-blog/assets/js/12.a8e04166.js"><link rel="prefetch" href="/share-blog/assets/js/13.6b7f6c7b.js"><link rel="prefetch" href="/share-blog/assets/js/14.da403a23.js"><link rel="prefetch" href="/share-blog/assets/js/15.9a4f1697.js"><link rel="prefetch" href="/share-blog/assets/js/16.e572b42b.js"><link rel="prefetch" href="/share-blog/assets/js/18.4035fee7.js"><link rel="prefetch" href="/share-blog/assets/js/19.3c32aa1c.js"><link rel="prefetch" href="/share-blog/assets/js/20.831a2f73.js"><link rel="prefetch" href="/share-blog/assets/js/21.0131d159.js"><link rel="prefetch" href="/share-blog/assets/js/3.64ccb596.js"><link rel="prefetch" href="/share-blog/assets/js/5.0e8bb94d.js"><link rel="prefetch" href="/share-blog/assets/js/6.41a8c27c.js"><link rel="prefetch" href="/share-blog/assets/js/8.a59ce9b8.js"><link rel="prefetch" href="/share-blog/assets/js/9.0333a404.js">
    <link rel="stylesheet" href="/share-blog/assets/css/0.styles.faeb6631.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/share-blog/" class="home-link router-link-active"><!----> <span class="site-name">ç§ãŸã¡ã®è¨˜å¿µ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/share-blog/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸“ä¸š" class="dropdown-title"><span class="title">ä¸“ä¸š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/share-blog/major/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/share-blog/major/react/" class="nav-link router-link-active">
  react
</a></li><li class="dropdown-item"><!----> <a href="/share-blog/major/others/" class="nav-link">
  others
</a></li></ul></div></div><div class="nav-item"><a href="/share-blog/hobby/" class="nav-link">
  çˆ±å¥½
</a></div><div class="nav-item"><a href="/share-blog/video/" class="nav-link">
  å½±è§†
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/share-blog/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸“ä¸š" class="dropdown-title"><span class="title">ä¸“ä¸š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/share-blog/major/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/share-blog/major/react/" class="nav-link router-link-active">
  react
</a></li><li class="dropdown-item"><!----> <a href="/share-blog/major/others/" class="nav-link">
  others
</a></li></ul></div></div><div class="nav-item"><a href="/share-blog/hobby/" class="nav-link">
  çˆ±å¥½
</a></div><div class="nav-item"><a href="/share-blog/video/" class="nav-link">
  å½±è§†
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>è¶…å…¨é¢è¯¦ç»†ä¸€æ¡é¾™æ•™ç¨‹ï¼ä»é›¶æ­å»º React é¡¹ç›®å…¨å®¶æ¡¶ï¼ˆä¸‹ç¯‡ï¼‰</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#å…ˆç¹ä¸ºå¿«" class="sidebar-link">å…ˆç¹ä¸ºå¿«</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-redux-åŠç›¸å…³æ’ä»¶" class="sidebar-link">7 Redux åŠç›¸å…³æ’ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-1-å®‰è£…-redux" class="sidebar-link">7.1 å®‰è£… redux</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-2-å®‰è£…-react-redux" class="sidebar-link">7.2 å®‰è£… react-redux</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-3-å®‰è£…-redux-thunk" class="sidebar-link">7.3 å®‰è£… redux-thunk</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-4-å®‰è£…æµè§ˆå™¨-redux-æ’ä»¶" class="sidebar-link">7.4 å®‰è£…æµè§ˆå™¨ Redux æ’ä»¶</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-5-åˆ›å»º-store" class="sidebar-link">7.5 åˆ›å»º store</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-6-å¤æ‚é¡¹ç›®-store-åˆ†è§£" class="sidebar-link">7.6 å¤æ‚é¡¹ç›® store åˆ†è§£</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-7-å¯¹æ¥-react-redux-ä¸-store" class="sidebar-link">7.7 å¯¹æ¥ react-redux ä¸ store</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-8-å¯åŠ¨-redux-devtools" class="sidebar-link">7.8 å¯åŠ¨ Redux DevTools</a></li><li class="sidebar-sub-header"><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_7-9-å®‰è£…ä½¿ç”¨-immutable" class="sidebar-link">7.9 å®‰è£…ä½¿ç”¨ immutable</a></li></ul></li><li><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_8-mock-js-å®‰è£…ä¸ä½¿ç”¨" class="sidebar-link">8 Mock.js å®‰è£…ä¸ä½¿ç”¨</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_9-è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜" class="sidebar-link">9 è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_10-å…¶ä»–å¸¸ç”¨å·¥å…·" class="sidebar-link">10 å…¶ä»–å¸¸ç”¨å·¥å…·</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/share-blog/major/react/%E8%B6%85%E5%85%A8%E9%9D%A2%E8%AF%A6%E7%BB%86%E4%B8%80%E6%9D%A1%E9%BE%99%E6%95%99%E7%A8%8B%EF%BC%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%20React%20%E9%A1%B9%E7%9B%AE%E5%85%A8%E5%AE%B6%E6%A1%B6%EF%BC%88%E4%B8%8B%E7%AF%87%EF%BC%89.html#_11-é™„èµ ç« èŠ‚ï¼šé›†æˆ-ant-design" class="sidebar-link">11 é™„èµ ç« èŠ‚ï¼šé›†æˆ Ant Design</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>åœ¨å¼€å§‹å‰ï¼Œå…ˆå›é¡¾ä¸‹ã€ä¸Šç¯‡ã€‘ä»‹ç»çš„å†…å®¹ï¼š</p> <p><strong>1 åˆ›å»º React-APP</strong></p> <p><strong>2 ç²¾ç®€é¡¹ç›®</strong></p> <p>2.1 åˆ é™¤æ–‡ä»¶</p> <p>2.2 ç®€åŒ–ä»£ç </p> <p>2.3 ä½¿ç”¨ Fragment å»æ‰ç»„ä»¶å¤–å±‚æ ‡ç­¾</p> <p><strong>3 é¡¹ç›®ç›®å½•ç»“æ„</strong></p> <p>3.1 å¼•å…¥å…¨å±€å…¬ç”¨æ ·å¼</p> <p>3.2 æ”¯æŒ Sass/Less/Stylus</p> <p><strong>4 è·¯ç”±</strong></p> <p>4.1 é¡µé¢æ„å»º</p> <p>4.2 ä½¿ç”¨ react-router-dom</p> <p>4.3 è·¯ç”±è·³è½¬</p> <p><strong>5 ç»„ä»¶å¼•å…¥</strong></p> <p>5.1 åˆ›å»º header ç»„ä»¶</p> <p>5.2 å¼•å…¥ Header ç»„ä»¶</p> <p>5.3 ç»„ä»¶ä¼ å‚</p> <p><strong>6 React Developer Tools æµè§ˆå™¨æ’ä»¶</strong></p> <p>åœ¨æœ¬æ¬¡çš„ã€ä¸‹ç¯‡ã€‘ä¸­ï¼Œç»§ç»­åˆ†äº«ä»¥ä¸‹å†…å®¹ï¼š</p> <h2 id="å…ˆç¹ä¸ºå¿«"><a href="#å…ˆç¹ä¸ºå¿«" class="header-anchor">ğŸ–Œ</a> å…ˆç¹ä¸ºå¿«</h2> <p><strong>7 Redux åŠç›¸å…³æ’ä»¶</strong></p> <p>7.1 å®‰è£… redux</p> <p>7.2 å®‰è£… react-redux</p> <p>7.3 å®‰è£… redux-thunk</p> <p>7.4 å®‰è£…æµè§ˆå™¨ Redux æ’ä»¶</p> <p>7.5 åˆ›å»º store</p> <p>7.6 å¤æ‚é¡¹ç›® store åˆ†è§£</p> <p>7.7 å¯¹æ¥ react-redux ä¸ store</p> <p>7.8 å¯åŠ¨ Redux DevTools</p> <p>7.9 å®‰è£…ä½¿ç”¨ immutable</p> <p><strong>8 Mock.js å®‰è£…ä¸ä½¿ç”¨</strong></p> <p><strong>9 è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜</strong></p> <p><strong>10 å…¶ä»–å¸¸ç”¨å·¥å…·</strong></p> <p>11 é™„èµ ç« èŠ‚ï¼šé›†æˆ Ant Design</p> <p>11.1 å®‰è£… Ant Design</p> <p>11.2 å®ç°æŒ‰éœ€åŠ è½½</p> <p>11.3 è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²</p> <h2 id="_7-redux-åŠç›¸å…³æ’ä»¶"><a href="#_7-redux-åŠç›¸å…³æ’ä»¶" class="header-anchor">ğŸ–Œ</a> 7 Redux åŠç›¸å…³æ’ä»¶</h2> <p>åšè¿‡ vue å¼€å‘çš„åŒå­¦éƒ½çŸ¥é“ vuexï¼Œreact å¯¹åº”çš„å·¥å…·å°±æ˜¯ Reduxï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›é™„å±å·¥å…·ï¼Œæ¯”å¦‚ react-reduxã€redux-thunkã€immutableã€‚</p> <p>redux æ¶‰åŠå†…å®¹ç¯‡å¹…è¾ƒå¤šï¼Œå¯ä»¥å•ç‹¬ä½œä¸ºä¸€æ¬¡åˆ†äº«ã€‚æœ¬æ¬¡åˆ†äº«ç¯‡å¹…æœ‰é™ï¼Œä»…ç®€è¦ä»‹ç»ä¸‹å®‰è£…éƒ¨ç½²æµç¨‹ï¼Œå¦‚æœ‰çœ‹ä¸æ‡‚çš„åœ°æ–¹å¯å…ˆè·³è¿‡æˆ–è‡ªè¡ŒæŸ¥é˜…å®˜æ–¹æ–‡æ¡£ã€‚</p> <h3 id="_7-1-å®‰è£…-redux"><a href="#_7-1-å®‰è£…-redux" class="header-anchor">ğŸ–Œ</a> 7.1 å®‰è£… redux</h3> <p>æ‰§è¡Œï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install  redux --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä»…å®‰è£… redux ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚redux é‡Œæ›´æ–° store é‡Œçš„æ•°æ®ï¼Œéœ€è¦æ‰‹åŠ¨è®¢é˜… (subscribe) æ›´æ–°ã€‚å¯ä»¥å€ŸåŠ©å¦ä¸€ä¸ªæ’ä»¶ï¼ˆreact-reduxï¼‰æé«˜å¼€å‘æ•ˆç‡ã€‚</p> <h3 id="_7-2-å®‰è£…-react-redux"><a href="#_7-2-å®‰è£…-react-redux" class="header-anchor">ğŸ–Œ</a> 7.2 å®‰è£… react-redux</h3> <p>æ‰§è¡Œï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install react-redux --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>react-redux å…è®¸é€šè¿‡ connect æ–¹æ³•ï¼Œå°† store ä¸­çš„æ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„ propsï¼Œçœå»äº† store è®¢é˜…ã€‚åŸ state ä¸­è¯»å– store çš„å±æ€§æ”¹ç”¨ props è¯»å–ã€‚</p> <p>ç”±äº storeï¼ˆ7.5 å°èŠ‚ï¼‰è¿˜æ²¡è®²åˆ°ï¼Œreact-redux ä½¿ç”¨æ–¹æ³•åœ¨ 7.6 å°èŠ‚ä»‹ç»ã€‚</p> <h3 id="_7-3-å®‰è£…-redux-thunk"><a href="#_7-3-å®‰è£…-redux-thunk" class="header-anchor">ğŸ–Œ</a> 7.3 å®‰è£… redux-thunk</h3> <p>æ‰§è¡Œï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install redux-thunk --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>redux-thunk å…è®¸åœ¨ actionCreators é‡Œè¿”å›å‡½å‡½æ•°ã€‚è¿™æ ·å¯ä»¥æŠŠä¸šåŠ¡é€»è¾‘ï¼ˆä¾‹å¦‚æ¥å£è¯·æ±‚ï¼‰é›†ä¸­å†™åœ¨ actionCreator.jsï¼Œæ–¹ä¾¿å¤ç”¨çš„åŒæ—¶ï¼Œå¯ä»¥ä½¿ç»„ä»¶çš„ä¸»æ–‡ä»¶æ›´ç®€æ´ã€‚</p> <h3 id="_7-4-å®‰è£…æµè§ˆå™¨-redux-æ’ä»¶"><a href="#_7-4-å®‰è£…æµè§ˆå™¨-redux-æ’ä»¶" class="header-anchor">ğŸ–Œ</a> 7.4 å®‰è£…æµè§ˆå™¨ Redux æ’ä»¶</h3> <p>ä¸ºäº†æ›´æ–¹ä¾¿è·Ÿè¸ª redux çŠ¶æ€ï¼Œå»ºè®®å®‰è£… chrome æ’ä»¶ã€‚</p> <p>å…ˆç§‘å­¦ä¸Šç½‘ï¼Œåœ¨ chrome ç½‘ä¸Šåº”ç”¨åº—é‡Œæœç´¢ â€œRedux DevToolsâ€ å¹¶å®‰è£…ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2020/2/3/1700920f3046b748?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p> <p>å®‰è£…å®Œæˆåè¿˜ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦åœ¨é¡¹ç›®ä»£ç ä¸­è¿›è¡Œé…ç½®ã€‚æ¥ä¸‹æ¥è¿›è¡Œè¯´æ˜ã€‚</p> <h3 id="_7-5-åˆ›å»º-store"><a href="#_7-5-åˆ›å»º-store" class="header-anchor">ğŸ–Œ</a> 7.5 åˆ›å»º store</h3> <p>å®‰è£…ä»¥ä¸Šå„ç§æ’ä»¶åï¼Œå¯ä»¥ store ç”¨æ¥ç®¡ç†çŠ¶æ€æ•°æ®äº†ã€‚</p> <p>å¦‚æœé¡¹ç›®æ¯”è¾ƒç®€å•ï¼Œåªæœ‰ä¸€ä¸¤ä¸ªé¡µé¢ï¼Œå¯ä»¥åªåˆ›å»ºä¸€ä¸ªæ€» store ç®¡ç†æ•´ä½“é¡¹ç›®ã€‚ç›®å½•ç»“æ„å‚è€ƒå¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    â”œâ”€ /src   
+   |  â”œâ”€ /store
+   |  |  â”œâ”€ actionCreators.js
+   |  |  â”œâ”€ contants.js       &lt;-- å®šä¹‰æ–¹æ³•çš„å¸¸é‡
+   |  |  â”œâ”€ index.js
+   |  |  â””â”€ reducer.js
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ä»¥ä¸‹æ˜¯å„æ–‡ä»¶çš„ä»£ç ç¤ºä¾‹ï¼š</p> <p>src/store/actionCreators.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import * as constans from './constants'

export const getData = (data) =&gt; ({
  type: constans.SET_DATA,
  data
})
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>src/store/contants.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export const SET_DATA = 'SET_DATA'
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>src/store/index.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { createStore, applyMiddleware, compose } from 'redux'
import reducer from './reducer'
import thunk from 'redux-thunk'

// è¿™é‡Œè®©é¡¹ç›®æ”¯æŒæµè§ˆå™¨æ’ä»¶Redux DevTools
const composeEnhancers = typeof window === 'object' &amp;&amp;
  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?
  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose

const enhancer = composeEnhancers(
  applyMiddleware(thunk)
);

const store = createStore(
  reducer,
  enhancer
)

export default store
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>ä»¥ä¸Šæ˜¯ store çš„æ ¸å¿ƒä»£ç ï¼Œæ”¯æŒäº† Redux DevToolsã€‚åŒæ—¶ï¼Œåˆ©ç”¨ redux çš„é›†æˆä¸­é—´ä»¶ï¼ˆapplyMiddlewareï¼‰åŠŸèƒ½å°† redux-thunk é›†æˆè¿›æ¥ï¼Œæœ€ç»ˆåˆ›å»ºäº† storeã€‚</p></blockquote> <p>src/store/reducer.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import * as constants from './constants'

// åˆå§‹é»˜è®¤çš„state
const defaultState = {
    myData: null
}

export default (state = defaultState, action) =&gt; {
    // ç”±äºstateæ˜¯å¼•ç”¨å‹ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œå¦åˆ™æ˜¯ç›‘æµ‹ä¸åˆ°stateå‘ç”Ÿå˜åŒ–çš„ã€‚å› æ­¤éœ€è¦å…ˆå¤åˆ¶ä¸€ä»½è¿›è¡Œä¿®æ”¹ï¼Œç„¶åå†è¿”å›æ–°çš„stateã€‚
    let newState = Object.assign({}, state)
    switch(action.type) {
        case constants.SET_DATA:
            newState.myData = action.data
            return newState
        default:
            return state
    }
}
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬åœ¨ store è®¾ç½®äº†ä¸€ä¸ª myDataã€‚å¦‚ä½•æ›´å¥½åœ°è§£å†³ state ä¿®æ”¹é—®é¢˜ï¼Œåœ¨ 7.8 å°èŠ‚ä¼šæåˆ°ã€‚</p> <h3 id="_7-6-å¤æ‚é¡¹ç›®-store-åˆ†è§£"><a href="#_7-6-å¤æ‚é¡¹ç›®-store-åˆ†è§£" class="header-anchor">ğŸ–Œ</a> 7.6 å¤æ‚é¡¹ç›® store åˆ†è§£</h3> <p>åº”å¯¹æ›´å¤šé¡µé¢çš„é¡¹ç›®ï¼Œå¦‚æœæ•°æ®éƒ½é›†ä¸­æ”¾åœ¨ä¸€ä¸ª store é‡Œï¼Œå…¶ç»´æŠ¤æˆæœ¬éå¸¸é«˜ã€‚æ¥ä¸‹æ¥åˆ†äº«ä¸‹å¦‚ä½•å°† store åˆ†è§£åˆ°å„ä¸ªç»„ä»¶ä¸­ã€‚</p> <p>ä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªç»„ä»¶æœ‰è‡ªå·±çš„ storeï¼Œå†ç”± src ä¸‹çš„ store ä½œä¸ºæ€»é›†ï¼Œé›†æˆæ¯ä¸ªç»„ä»¶çš„ storeã€‚</p> <p>ä»¥ header å’Œ login ä¸¤ä¸ªç»„ä»¶ä¸ºä¾‹ï¼Œåˆ†åˆ«åˆ›å»ºç»„ä»¶è‡ªå·±çš„ storeã€‚</p> <p>header çš„ store ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    |  |  â”œâ”€ /components
    |  |  |  â”œâ”€ /header
+   |  |  |  |  â”œâ”€ /store
+   |  |  |  |  |  â”œâ”€ actionCreators.js
+   |  |  |  |  |  â”œâ”€ contants.js      
+   |  |  |  |  |  â”œâ”€ index.js
+   |  |  |  |  |  â””â”€ reducer.js
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç»„ä»¶ store ä¸‹çš„ index.js ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import reducer from './reducer'
import * as actionCreators from './actionCreators'
import * as constants from './constants'

export { reducer, actionCreators, constants}
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å…¶å®å°±æ˜¯æŠŠç»„ä»¶ store ä¸‹çš„å…¶ä»–æ–‡ä»¶é›†ä¸­èµ·æ¥ä½œä¸ºç»Ÿä¸€è¾“å‡ºå£ã€‚</p> <p>ç»„ä»¶ store ä¸‹çš„ contants.js ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const ZONE = 'components/header/'

export const SET_DATA = ZONE + 'SET_DATA'
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ZONE æ˜¯ç”¨æ¥é¿å…ä¸å…¶ä»–ç»„ä»¶çš„ contants é‡åã€‚</p> <p>åŒæ ·çš„æ–¹å¼ï¼Œåœ¨ login ä¸‹è¿›è¡Œåˆ›å»º storeï¼ˆä¸å†èµ˜è¿°ï¼‰ã€‚</p> <p>ç„¶åä¿®æ”¹é¡¹ç›® src ä¸‹çš„æ€» storeï¼Œç›®å½•ç»“æ„å˜åŠ¨å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    â”œâ”€ /src   
    |  â”œâ”€ /store
-   |  |  â”œâ”€ actionCreators.js &lt;-- åˆ é™¤
-   |  |  â”œâ”€ contants.js       &lt;--åˆ é™¤
    |  |  â”œâ”€ index.js
    |  |  â””â”€ reducer.js
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>src/store/index.js é‡å†™å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import { combineReducers } from 'redux'

import { reducer as loginReducer } from '../pages/login/store'
import { reducer as headerReducer } from '../components/header/store'

const reducer = combineReducers({
    login: loginReducer,
    header: headerReducer
})

export default reducer
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ä»¥ä¸Šä»£ç çš„ä½œç”¨å°±æ˜¯æŠŠ login å’Œ header çš„ store å¼•å…¥ï¼Œç„¶åé€šè¿‡ combineReducers åˆå¹¶åœ¨ä¸€èµ·ï¼Œå¹¶åˆ†åˆ«åŠ ä¸Šå”¯ä¸€çš„å¯¹è±¡ key å€¼ã€‚</p> <p>è¿™æ ·çš„å¥½å¤„éå¸¸æ˜æ˜¾ï¼š</p> <ol><li>é¿å…å„ç»„ä»¶çš„ store æ•°æ®äº’ç›¸æ±¡æŸ“</li> <li>ç»„ä»¶ç‹¬ç«‹ç»´æŠ¤è‡ªå·±çš„ storeï¼Œå‡å°‘ç»´æŠ¤æˆæœ¬</li></ol> <p>éå¸¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ç»´æŠ¤ storeã€‚</p> <h3 id="_7-7-å¯¹æ¥-react-redux-ä¸-store"><a href="#_7-7-å¯¹æ¥-react-redux-ä¸-store" class="header-anchor">ğŸ–Œ</a> 7.7 å¯¹æ¥ react-redux ä¸ store</h3> <p>ä¸ºäº†æ–¹ä¾¿æ¯ä¸ªç»„ä»¶éƒ½èƒ½ä½¿ç”¨ storeï¼Œè€Œä¸ç”¨ä¸€éä¸€éçš„å¼•ç”¨ storeã€‚ä¸‹é¢æ¥å¯¹æ¥ react-redux ä¸ storeã€‚</p> <p>ä¿®æ”¹ src/index.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    import React from 'react'
    import ReactDOM from 'react-dom'
    import App from './App'
+   import { Provider } from 'react-redux'
+   import store from './store'
    import './common/style/frame.styl'

+   const Apps = (
+       &lt;Provider store={store}&gt;
+           &lt;App /&gt;
+       &lt;/Provider&gt;
+   )

M   ReactDOM.render(Apps, document.getElementById('root'))
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ä»¥ä¸Šä»£ç å°±æ˜¯ç”¨ react-redux æä¾›çš„ Providerï¼ŒæŠŠ store ä¼ ç»™äº†æ•´ä¸ª Appã€‚</p> <p>åœ¨éœ€è¦ä½¿ç”¨ store çš„ç»„ä»¶ä¸­ï¼Œè¦ä½¿ç”¨ react-redux æä¾›çš„ connect æ–¹æ³•å¯¹ç»„ä»¶è¿›è¡ŒåŒ…è£…ã€‚</p> <p>ä»¥ login ä¸ºä¾‹ï¼Œä¿®æ”¹ src/pages/login/index.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    import React, { Component } from 'react'
    import Header from '../../components/header'
+   import { connect } from 'react-redux'
+   import * as actionCreators from './store/actionCreators'
    import './login.styl'

    class Login extends Component {
        render() {
            return (
                &lt;div class&gt;
                    &lt;Header /&gt;
                    &lt;h1&gt;Login page&lt;/h1&gt;
+                   &lt;p&gt;login: myData = {this.props.myData}&lt;/p&gt;
+                   &lt;button onClick={()=&gt; {this.props.getData('123456')}}&gt;æ›´æ”¹loginçš„myData&lt;/button&gt;
                    &lt;button onClick={this.gotoHome.bind(this)}&gt;è·³è½¬Homeé¡µ&lt;/button&gt;
                &lt;/div&gt;
            )
        }

        gotoHome() {
            this.props.history.push('/home')
        }
    }

+   // æŠŠstoreä¸­çš„æ•°æ®æ˜ å°„åˆ°ç»„ä»¶çš„props
+   const mapStateToProps = (state) =&gt; ({
+       myData: state.getIn(['login', 'myData']),
+   })

+   // æŠŠstoreçš„Dispatchæ˜ å°„åˆ°ç»„ä»¶çš„props
+   const mapDispatchToProps = (dispatch) =&gt; ({
+       getData(data) {
+           const action = actionCreators.getData(data)
+           dispatch(action)
+       }
+   })

M   export default connect(mapStateToProps, mapDispatchToProps)(Login)
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>æœ€å¤§çš„å˜åŒ–å°±æ˜¯ä»£ç æœ€åä¸€è¡Œï¼Œè¢« connect æ–¹æ³•åŒ…è£…äº†ã€‚</p> <p>ç„¶åæŠŠ store é‡Œçš„ state å’Œ dispatch éƒ½æ˜ å°„åˆ°äº†ç»„ä»¶çš„ propsã€‚è¿™æ ·å¯ä»¥ç›´æ¥é€šè¿‡ props è¿›è¡Œè®¿é—®äº†ï¼Œstore ä¸­æ•°æ®çš„å˜åŒ–ä¼šç›´æ¥æ”¹å˜ props ä»è€Œè§¦å‘ç»„ä»¶çš„è§†å›¾æ›´æ–°ã€‚</p> <p>ç‚¹å‡»æŒ‰é’®åï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢ä¸­æ˜¾ç¤ºçš„ myData å‘ç”Ÿäº†å˜åŒ–ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2020/2/3/170092145b7f0fe6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p> <p>ä¸‹é¢é€šè¿‡ Redux DevTools è¿›è¡Œå¯è§†åŒ–è·Ÿè¸ªæŸ¥çœ‹ã€‚</p> <h3 id="_7-8-å¯åŠ¨-redux-devtools"><a href="#_7-8-å¯åŠ¨-redux-devtools" class="header-anchor">ğŸ–Œ</a> 7.8 å¯åŠ¨ Redux DevTools</h3> <p>ç»è¿‡ 7.5 å°èŠ‚çš„è®¾ç½®ï¼Œ7.4 å°èŠ‚çš„ Redux DevTools å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„å›¾æ ‡ï¼Œåœ¨å‡ºç°çš„é¢æ¿é‡Œï¼Œå¯ä»¥ç›¸ä¿¡åœ°è·Ÿè¸ªæŸ¥çœ‹ store é‡Œå„æ•°æ®çš„å˜åŒ–ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2020/2/3/1700921651927c2a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p> <p>è¿˜å¯ä»¥é€šè¿‡è°ƒè¯•å·¥å…·æ å¯åŠ¨ Redux DevToolsï¼š</p> <p><img src="https://user-gold-cdn.xitu.io/2020/2/3/1700921814587f59?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p> <p>å…·ä½“ä½¿ç”¨æ–¹æ³•è¿™é‡Œä¸èµ˜è¿°äº†ã€‚</p> <h3 id="_7-9-å®‰è£…ä½¿ç”¨-immutable"><a href="#_7-9-å®‰è£…ä½¿ç”¨-immutable" class="header-anchor">ğŸ–Œ</a> 7.9 å®‰è£…ä½¿ç”¨ immutable</h3> <p>åœ¨ 7.5 å°èŠ‚ï¼Œæåˆ°äº† store é‡Œä¸èƒ½ç›´æ¥ä¿®æ”¹ stateï¼Œå› ä¸º state æ˜¯å¼•ç”¨ç±»å‹ï¼Œç›´æ¥ä¿®æ”¹å¯èƒ½å¯¼è‡´ç›‘æµ‹ä¸åˆ°æ•°æ®å˜åŒ–ã€‚</p> <p>immutable.js ä»å­—é¢ä¸Šå°±å¯ä»¥æ˜ç™½ï¼Œimmutable çš„æ„æ€æ˜¯ â€œä¸å¯æ”¹å˜çš„â€ã€‚ä½¿ç”¨ immutable åˆ›å»ºçš„æ•°æ®æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œå¯¹ immutable æ•°æ®çš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ immutable æ•°æ®ï¼Œä¸ä¼šæ”¹å˜åŸå§‹ immutable æ•°æ®ã€‚</p> <p>immutable.js æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œéå¸¸æ–¹ä¾¿ä¿®æ”¹å¯¹è±¡æˆ–æ•°ç»„ç±»å‹çš„å¼•ç”¨å‹æ•°æ®ã€‚</p> <p>å®‰è£… immutable å’Œ redux-immutableï¼Œæ‰§è¡Œï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install immutable redux-immutable --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç„¶åå¯¹ä»£ç è¿›è¡Œæ”¹é€ ï¼š</p> <p>src/store/reducer.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>-   import { combineReducers } from 'redux'
+   import { combineReducers } from 'redux-immutable'
    ...(ç•¥)
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä»¥ä¸Šä»£ç å°±æ˜¯æŠŠ combineReducers æ¢æˆ redux-immutable é‡Œçš„ã€‚</p> <p>ç„¶åä¿®æ”¹ src/pages/login/store/reducer.js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    import * as constants from './constants'
+   import { fromJS } from 'immutable'

M   const defaultState = fromJS({
        myData: null
M   })

+   const getData = (state, action) =&gt; {
+       return state.set('myData', action.data)
+   }

    export default (state = defaultState, action) =&gt; {
        switch(action.type) {
            case constants.SET_DATA:
M               return getData(state, action)
            default:
                return state
        }
    }
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>immutable çš„ä»‹å…¥ï¼Œå°±æ˜¯åˆ©ç”¨ fromJS æ–¹æ³•ï¼ŒæŠŠåŸå§‹çš„ JS ç±»å‹è½¬åŒ–ä¸º immutable ç±»å‹ã€‚</p> <p>ç”±äº state å·²ç»æ˜¯ immutable ç±»å‹äº†ï¼Œå¯ä»¥ä½¿ç”¨ immutable çš„ set æ–¹æ³•è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ stateã€‚ä»£ç ç®€æ´å¾ˆå¤šï¼Œä¸éœ€è¦æ‰‹åŠ¨é€šè¿‡ Object.assign ç­‰æ–¹æ³•å»å¤åˆ¶å†å¤„ç†äº†ã€‚</p> <p>header ç»„ä»¶çš„ä»£ç ä¿®æ”¹åŒç†ä¸å†èµ˜è¿°ã€‚</p> <p>immutable è¿˜æœ‰å¾ˆå¤šå…¶ä»–éå¸¸ä½¿ç”¨æ–¹æ³•ï¼Œå…·ä½“è¯·å‚é˜…å®˜æ–¹æ–‡æ¡£ï¼š</p> <blockquote><p><a href="https://immutable-js.github.io/immutable-js/" target="_blank" rel="noopener noreferrer">immutable-js.github.io/immutable-jâ€¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="_8-mock-js-å®‰è£…ä¸ä½¿ç”¨"><a href="#_8-mock-js-å®‰è£…ä¸ä½¿ç”¨" class="header-anchor">ğŸ–Œ</a> 8 Mock.js å®‰è£…ä¸ä½¿ç”¨</h2> <p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿å‰ç«¯ç‹¬è‡ªè°ƒè¯•æ¥å£ï¼Œç»å¸¸ä½¿ç”¨ Mock.js æ‹¦æˆª Ajax è¯·æ±‚ï¼Œå¹¶è¿”å›é¢„ç½®å¥½çš„æ•°æ®ã€‚æœ¬å°èŠ‚ä»‹ç»ä¸‹å¦‚ä½•åœ¨ react é¡¹ç›®ä¸­ä½¿ç”¨ Mock.jsã€‚</p> <p>æ‰§è¡Œå®‰è£…ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install mockjs --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>åœ¨ src ä¸‹æ–°å»º mock.jsï¼Œä»£ç å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import Mock from 'mockjs'

const domain = '/api/'

// æ¨¡æ‹ŸgetDataæ¥å£
Mock.mock(domain + 'getData', function () {
    let result = {
      code: 200,
      message: 'OK',
      data: 'test'
    }
    return result
})
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>ç„¶ååœ¨ src/index.js ä¸­å¼•å…¥ mock.js:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    import React from 'react'
    import ReactDOM from 'react-dom'
    import App from './App'
    import { Provider } from 'react-redux'
    import store from './store'
+   import './mock'
    import './common/style/frame.styl'

    ...ï¼ˆç•¥ï¼‰
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å¦‚æ­¤ç®€å•ã€‚è¿™æ ·ï¼Œåœ¨é¡¹ç›®ä¸­è¯·æ±‚<code>/api/getData</code>çš„æ—¶å€™ï¼Œå°±ä¼šè¢« Mock.js æ‹¦æˆªï¼Œå¹¶è¿”å› mock.js ä¸­å†™å¥½çš„æ•°æ®ã€‚</p> <h2 id="_9-è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜"><a href="#_9-è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜" class="header-anchor">ğŸ–Œ</a> 9 è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜</h2> <p>åœ¨ react å¼€å‘ç¯å¢ƒä¸­ï¼Œé»˜è®¤å¯åŠ¨çš„æ˜¯ 3000 ç«¯å£ï¼Œè€Œåç«¯ API æœåŠ¡å¯èƒ½åœ¨æœ¬æœºçš„ 80 ç«¯å£ï¼Œè¿™æ ·åœ¨ ajax è¯·æ±‚çš„æ—¶å€™ä¼šå‡ºç°è·¨åŸŸé—®é¢˜ã€‚å¯ä»¥å€ŸåŠ© http-proxy-middleware å·¥å…·å®ç°åå‘ä»£ç†ã€‚</p> <p>æ‰§è¡Œå®‰è£…ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install http-proxy-middleware --save-dev
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>åœ¨ src ä¸‹åˆ›å»º setupProxy.jsï¼Œä»£ç å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const proxy = require('http-proxy-middleware');
module.exports = function (app) {
    app.use(
        '^/api',
        proxy({
            target: 'http://localhost',
            changeOrigin: true
        })
    )
}
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è¿™ä»£ç çš„æ„æ€å°±æ˜¯ï¼Œåªè¦è¯·æ±‚åœ°å€æ˜¯ä»¥ &quot;/api&quot; å¼€å¤´ï¼Œé‚£å°±åå‘ä»£ç†åˆ° http://localhost åŸŸåä¸‹ï¼Œè·¨åŸŸé—®é¢˜è§£å†³ï¼å¤§å®¶å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œä¿®æ”¹ã€‚</p> <blockquote><p>â€»æ³¨æ„ï¼šsetupProxy.js è®¾ç½®åï¼Œä¸€å®šè¦é‡å¯é¡¹ç›®æ‰ç”Ÿæ•ˆã€‚</p></blockquote> <h2 id="_10-å…¶ä»–å¸¸ç”¨å·¥å…·"><a href="#_10-å…¶ä»–å¸¸ç”¨å·¥å…·" class="header-anchor">ğŸ–Œ</a> 10 å…¶ä»–å¸¸ç”¨å·¥å…·</h2> <ol><li>Axios - Ajax è¯·æ±‚å·¥å…·</li></ol> <p>ã€å®˜ç½‘ã€‘<a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">github.com/axios/axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ã€å®‰è£…å‘½ä»¤ã€‘</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install axios --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>better-scroll - é¡µé¢åŸç”Ÿæ»šåŠ¨ä½“éªŒæ•ˆæœå·¥å…·</li></ol> <p>ã€å®˜ç½‘ã€‘<a href="http://ustbhuangyi.github.io/better-scroll/doc/" target="_blank" rel="noopener noreferrer">ustbhuangyi.github.io/better-scroâ€¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ã€å®‰è£…å‘½ä»¤ã€‘</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install better-scroll --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>react-transition-group - CSS3 åŠ¨ç”»ç»„åˆå·¥å…·</li></ol> <p>ã€å®˜ç½‘ã€‘<a href="https://github.com/reactjs/react-transition-group" target="_blank" rel="noopener noreferrer">github.com/reactjs/reaâ€¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ã€å®‰è£…å‘½ä»¤ã€‘</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install react-transition-group --save
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>react-loadable - åŠ¨æ€åŠ è½½ç»„ä»¶å·¥å…·</li></ol> <p>ã€å®˜ç½‘ã€‘<a href="https://www.npmjs.com/package/react-loadable" target="_blank" rel="noopener noreferrer">www.npmjs.com/package/reaâ€¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ã€å®‰è£…å‘½ä»¤ã€‘</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add react-loadable
å¤åˆ¶ä»£ç 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_11-é™„èµ ç« èŠ‚ï¼šé›†æˆ-ant-design"><a href="#_11-é™„èµ ç« èŠ‚ï¼šé›†æˆ-ant-design" class="header-anchor">ğŸ–Œ</a> 11 é™„èµ ç« èŠ‚ï¼šé›†æˆ Ant Design</h2> <p>Ant Design æ˜¯éå¸¸å¥½ç”¨çš„å‰ç«¯ UI åº“ï¼Œå¾ˆå¤šé¡¹ç›®éƒ½ä½¿ç”¨äº† Ant Designã€‚</p> <p>ã€å®˜ç½‘ã€‘</p> <blockquote><p><a href="https://ant.design/index-cn" target="_blank" rel="noopener noreferrer">ant.design/index-cn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>æœ¬ç« èŠ‚å†…å®¹åŸºäºä¸Šè¿°ç« èŠ‚å°† create-react-app è¿›è¡Œ eject åé›†æˆ Ant Designã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/share-blog/assets/js/app.44a06aa1.js" defer></script><script src="/share-blog/assets/js/4.76e0b0a9.js" defer></script><script src="/share-blog/assets/js/2.c3848be1.js" defer></script><script src="/share-blog/assets/js/17.9c247081.js" defer></script><script src="/share-blog/assets/js/7.51a66021.js" defer></script>
  </body>
</html>
